<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>4.6. Borrado con subconsultas | Modelo Entidad - Relación </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="David Bermúdez Alcántara" />
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/4.0/" />
<meta name="generator" content="eXeLearning 2.5 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
	</head>
<body class="exe-web-site" id="exe-node-73"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<header id="header" ><div id="headerContent">Modelo Entidad - Relación</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Modelo Entidad Relación</a></li>
   <li><a href="normativa.html" class="daddy">Normativa</a>
   <ul class="other-section">
      <li><a href="resultados_de_aprendizaje_y_criterios_de_evaluacin.html" class="no-ch">Resultados de Aprendizaje y Criterios de Evaluación</a></li>
      <li><a href="contenidos_bsicos.html" class="no-ch">Contenidos Básicos</a></li>
      <li><a href="orientaciones_pedaggicas.html" class="no-ch">Orientaciones Pedagógicas</a></li>
      <li><a href="elementos_necesarios.html" class="no-ch">Elementos necesarios</a></li>
      <li><a href="bibliografa.html" class="no-ch">Bibliografía</a></li>
   </ul>
   </li>
   <li><a href="ud_1_introduccin_a_las_bbdd_relacionales.html" class="daddy">UD 1. Introducción a las BBDD relacionales</a>
   <ul class="other-section">
      <li><a href="11_aplicaciones_de_los_sgbd.html" class="no-ch">1.1. Aplicaciones de los SGBD</a></li>
      <li><a href="12_los_datos.html" class="no-ch">1.2. Los datos</a></li>
      <li><a href="13_modelos_de_datos.html" class="no-ch">1.3. Modelos de datos</a></li>
      <li><a href="14_lenguajes_de_bases_de_datos.html" class="no-ch">1.4. Lenguajes de bases de datos</a></li>
      <li><a href="autoevaluacin.html" class="no-ch">Autoevaluación</a></li>
      <li><a href="practica.html" class="no-ch">Practica</a></li>
   </ul>
   </li>
   <li><a href="ud2_bases_de_datos_relacionales.html" class="daddy">UD2. Bases de Datos Relacionales</a>
   <ul class="other-section">
      <li><a href="21_conceptos_bsicos.html" class="no-ch">2.1. Conceptos básicos</a></li>
      <li><a href="22_dominios.html" class="no-ch">2.2. Dominios</a></li>
      <li><a href="23_claves.html" class="no-ch">2.3. Claves</a></li>
      <li><a href="24_el_lenguaje_de_consultas_sql.html" class="no-ch">2.4. El lenguaje de consultas: SQL</a></li>
      <li><a href="25_componentes_del_sql.html" class="no-ch">2.5. Componentes del SQL</a></li>
      <li><a href="26_tipos_de_datos.html" class="no-ch">2.6. Tipos de datos</a></li>
      <li><a href="27_constantes_y_nulos.html" class="no-ch">2.7. Constantes y Nulos</a></li>
      <li><a href="autoevaluacin0.html" class="no-ch">Autoevaluación</a></li>
      <li><a href="practica0.html" class="no-ch">Practica</a></li>
   </ul>
   </li>
   <li><a href="ud3_sql_select.html" class="daddy">UD3. SQL: SELECT</a>
   <ul class="other-section">
      <li><a href="31_la_clusula_select.html" class="no-ch">3.1. La cláusula SELECT</a></li>
      <li><a href="32_select_bsico.html" class="no-ch">3.2. SELECT básico</a></li>
      <li><a href="33_filas_duplicadas.html" class="no-ch">3.3. Filas duplicadas</a></li>
      <li><a href="34_condiciones.html" class="no-ch">3.4. Condiciones</a></li>
      <li><a href="35_condiciones_compuestas.html" class="no-ch">3.5. Condiciones compuestas</a></li>
      <li><a href="36_ordenacin.html" class="no-ch">3.6. Ordenación</a></li>
      <li><a href="37_unin.html" class="no-ch">3.7. Unión</a></li>
      <li><a href="38_multitabla.html" class="no-ch">3.8. Multitabla</a></li>
      <li><a href="39_consultas_sumarias.html" class="no-ch">3.9. Consultas sumarias</a></li>
      <li><a href="autoevaluacin1.html" class="no-ch">Autoevaluación</a></li>
      <li><a href="practica1.html" class="no-ch">Practica</a></li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="ud4_sql_insert_y_delete.html" class="current-page-parent daddy">UD4. SQL: INSERT y DELETE</a>
   <ul>
      <li><a href="41_la_clusula_insert.html" class="no-ch">4.1. La cláusula INSERT</a></li>
      <li><a href="42_insert_bsico.html" class="no-ch">4.2. INSERT básico</a></li>
      <li><a href="43_insertar_con_insert.html" class="no-ch">4.3. Insertar con INSERT</a></li>
      <li><a href="44_insercin_masiva.html" class="no-ch">4.4. Inserción masiva</a></li>
      <li><a href="45_la_clusula_delete.html" class="no-ch">4.5. La cláusula DELETE</a></li>
      <li id="active"><a href="46_borrado_con_subconsultas.html" class="active no-ch">4.6. Borrado con subconsultas</a></li>
   </ul>
   </li>
   <li><a href="ud5_sql_update.html" class="daddy">UD5. SQL: UPDATE</a>
   <ul class="other-section">
      <li><a href="51_la_clusula_update.html" class="no-ch">5.1. La cláusula UPDATE</a></li>
      <li><a href="52_actualizacin_de_todas_las_filas.html" class="no-ch">5.2. Actualización de todas las filas</a></li>
      <li><a href="53_actualizar_con_subconsultas.html" class="no-ch">5.3. Actualizar con subconsultas</a></li>
   </ul>
   </li>
   <li><a href="ud6_sql_create_drop_y_alter.html" class="daddy">UD6. SQL: CREATE, DROP Y ALTER</a>
   <ul class="other-section">
      <li><a href="61_creacin_de_tablas.html" class="no-ch">6.1. Creación de tablas</a></li>
      <li><a href="62_definicin_de_columnas.html" class="no-ch">6.2. Definición de columnas</a></li>
      <li><a href="63_definicin_de_claves.html" class="no-ch">6.3. Definición de claves</a></li>
      <li><a href="seccin.html" class="no-ch">Sección</a></li>
      <li><a href="seccin0.html" class="no-ch">Sección</a></li>
   </ul>
   </li>
   <li><a href="bloque_3_modelo_entidad__relacin.html" class="no-ch">Bloque 3. Modelo Entidad - Relación</a></li>
   <li><a href="bloque_4_lenguaje_script_plsql.html" class="no-ch">Bloque 4. Lenguaje Script PL/SQL</a></li>
   <li><a href="bibliografa0.html" class="no-ch">Bibliografía</a></li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="45_la_clusula_delete.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="ud5_sql_update.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">4.6. Borrado con subconsultas</h1></header>
<article class="iDevice_wrapper textIdevice" id="id144">
<div class="iDevice emphasis0" >
<div id="ta144_144_2" class="block iDevice_content">
<div class="exe-text"><p>Las sentencias <strong>DELETE</strong> con condiciones de búsqueda simples, como las de los ejemplos anteriores, seleccionan las filas a suprimir basándose únicamente en los propios contenidos de las filas.</p>
<p><a href="pedidosAnne.png"><img src="pedidosAnne.png" alt="" style="float: right; margin-left: 15px;" width="100" /></a>A veces, la selección de las filas debe efectuarse en base a datos contenidos en otras tablas. Por ejemplo, supongamos que se desea suprimir todos los pedidos aceptados por <em>‘Soledad Martinez’</em>. Sin saber su número de empleado no se pueden determinar los pedidos a eliminar consultando únicamente la tabla PEDIDOS. Podría pensar en hallar todos los pedidos utilizando una consulta de dos tablas como la siguiente:</p>
<p style="text-align: center;"><em>SELECT IdPedido, Pedidos.Cargo FROM Pedidos, Empleados WHERE Pedidos.IdEmpleado=Empleados.IdEmpleado AND nombre="Anne";<br /></em></p>
<p style="text-align: justify;">Pero no es posible utilizar una composición en una sentencia DELETE. El modo de manejar la petición es con una de las condiciones de búsqueda subconsulta. El siguiente ejemplo permitiría borrar las 43 filas de pedidos aceptados por "Anne":</p>
<p style="text-align: center;"><em>DELETE FROM Pedidos WHERE IdEmpleado=(SELECT IdEmpleado FROM Empleados WHERE nombre="Anne");</em></p>
<p style="text-align: justify;"></p></div>
</div>
</div>
</article>
<article class="iDevice_wrapper textIdevice em_iDevice" id="id147">
<div class="iDevice emphasis1" >
<header class="iDevice_header iDevice_header_noIcon"><h1 class="iDeviceTitle">Ejemplos</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta147_146_2" class="block iDevice_content">
<div class="exe-text"><p>Suprime los productos vendidos cuyos importes de venta sean inferiores a 5000.</p>
<blockquote>
<p><em>DELETE FROM Productos WHERE IdProducto IN (SELECT IdProducto FROM `Detalles de pedidos` as dp WHERE IdProducto AND (Cantidad*PrecioUnidad*(1-Descuento))&lt;5000);</em></p>
</blockquote>
<p>Suprime los clientes que no han realizado pedidos desde el 10 de Noviembre de 1999.</p>
<blockquote>
<p><em>DELETE FROM Clientes WHERE NOT EXISTS (SELECT * FROM Pedidos WHERE Clientes.IdCliente=Pedidos.IdCliente AND FechaPedido&gt;="1999/11/10");</em></p>
<p></p>
</blockquote></div>
</div>
</div>
</div>
</div>
</article>
<div id="packageLicense" class="cc cc-by-sa">
<p><span>Obra publicada con</span> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Licencia Creative Commons Reconocimiento Compartir igual 4.0</a></p>
</div>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="45_la_clusula_delete.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="ud5_sql_update.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<footer id="siteFooter">Departamento de Informática del IES Punta del Verde.
Curso 2020 - 2021</footer></div>
<script type="text/javascript" src="pdv_js.js"></script></body></html>